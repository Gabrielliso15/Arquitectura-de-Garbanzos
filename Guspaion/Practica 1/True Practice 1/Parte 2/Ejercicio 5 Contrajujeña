ORG 1000H ;Memoria de datos
  PASS DB "1234"
  FINPASS DB ?
  REQUEST DB "Ingrese su contraseña", 0Ah
  FINRQST DB ?
  SUCCESS DB "Acceso permitido", 0Ah
  FINSUCC DB ?
  FAILURE DB "Contraseña erronea", 0Ah
  FINFAIL DB ?
  BLOQ DB "Acceso DENEGADO", 0Ah
  FINBLOQ DB ?
  PASSWORD DB ?

ORG 3000H ;Subrutinas
LOGIN:
  mov AH, 0
TRY:
  mov BX, offset REQUEST
  mov AL, offset FINRQST - offset REQUEST
  int 7
  mov BX, offset PASSWORD
  mov AL, 0
CHAR_IN:
  int 6
  inc BX
  inc AL
  cmp AL, 4
  JNZ CHAR_IN
  mov BX, offset PASSWORD
CMP_PASS:
  cmp [BX], CH
  JNZ RETRY
  inc BX
  cmp [BX], CL
  JNZ RETRY
  inc BX
  cmp [BX], DH
  JNZ RETRY
  inc BX
  cmp [BX], DL
  JNZ RETRY
  JMP OK
RETRY:
  mov BX, offset FAILURE
  mov AL, offset FINFAIL - offset FAILURE
  int 7
  inc AH
  cmp AH, 5
  JNZ TRY
  mov BX, offset BLOQ
  mov AL, offset FINBLOQ-offset BLOQ
  int 7
  JMP FIN
OK:
  mov BX, offset SUCCESS
  mov AL, offset FINSUCC-offset SUCCESS
  int 7
FIN:
  ret
  
ORG 2000H ;Programa principal
  mov BX, offset PASS
  mov CH, [BX]
  inc BX
  mov CL, [BX]
  inc BX
  mov DH, [BX]
  inc BX
  mov DL, [BX]
  call LOGIN
  hlt
END
; Sólo dios y mi yo del presente sabe la aberración que acabo de generar.
; A los lectores de este código del futuro les deseo suerte en este duro trayecto que les depara.
